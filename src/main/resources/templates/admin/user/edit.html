<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8" xmlns:th="http://www.thymeleaf.org"> <![endif]-->

<!--[if IE 9]> <html lang="en" class="ie9" xmlns:th="http://www.thymeleaf.org"> <![endif]-->

<!--[if !IE]><!--> <html lang="en" xmlns:th="http://www.thymeleaf.org"> <!--<![endif]-->
<head th:include="~{/admin/_layout/common-head::common-head(${#strings.isEmpty(model.id) ? '添加用户' : '修改用户'},~{::link})}">
    <link rel="stylesheet" type="text/css" th:href="@{/static/css/select2_metro.css}" />
</head>
<body class="page-header-fixed">
<div th:replace="~{/admin/_layout/header::header}"></div>
<div class="page-container row-fluid">
    <div th:replace="~{/admin/_layout/sidebar::sidebar('user')}"></div>

    <!-- BEGIN PAGE -->

    <div class="page-content">

        <!-- BEGIN PAGE CONTAINER-->

        <div class="container-fluid">

            <!-- BEGIN PAGE HEADER-->

            <div class="row-fluid">

                <div class="span12">

                    <!-- BEGIN PAGE TITLE & BREADCRUMB-->

                    <h3 class="page-title">

                    </h3>

                    <ul class="breadcrumb">

                        <li>

                            <i class="icon-home"></i>

                            <a th:href="@{/admin/}">管理首页</a>

                            <i class="icon-angle-right"></i>

                        </li>

                        <li>

                            <a th:href="@{/admin/user/list}">用户管理</a>

                            <i class="icon-angle-right"></i>

                        </li>

                        <li>

                            <a href="#" th:if="${#strings.isEmpty(model.id)}">添加用户</a>

                            <a href="#" th:unless="${#strings.isEmpty(model.id)}">修改用户</a>

                        </li>

                    </ul>

                    <!-- END PAGE TITLE & BREADCRUMB-->

                </div>

            </div>

            <!-- END PAGE HEADER-->

            <!-- BEGIN PAGE CONTENT-->

            <div class="row-fluid">

                <div class="span12">

                    <!-- BEGIN EXAMPLE TABLE PORTLET-->

                    <div th:class="${#strings.isEmpty(model.id) ? 'portlet box green' : 'portlet box blue'}">

                        <div class="portlet-title">

                            <div class="caption" th:if="${#strings.isEmpty(model.id)}"><i class="icon-reorder"></i>添加用户</div>

                            <div class="caption" th:unless="${#strings.isEmpty(model.id)}"><i class="icon-reorder"></i>修改用户</div>

                        </div>

                        <div class="portlet-body form">

                            <!-- BEGIN FORM-->

                            <form th:action="@{/admin/user/edit}" th:object="${model}" th:method="post" class="form-horizontal form-bordered form-row-stripped">

                                <input type="hidden" name="id" th:field="*{id}">

                                <div th:class="${(errors != null && errors['role'] != null) ? 'control-group error' : 'control-group'}">

                                    <label class="control-label">角色<span class="required">*</span></label>

                                    <div class="controls">

                                        <select class="m-wrap" name="role" th:field="*{role}">

                                            <option value="ROLE_STUDENT">学生</option>

                                            <option value="ROLE_TEACHER">教师</option>

                                            <option value="ROLE_ADMIN">管理员</option>

                                        </select>

                                        <span class="help-block" th:if="${errors != null && errors['role'] != null}" th:text="${errors['role']}"></span>

                                    </div>

                                </div>

                                <div th:class="${(errors != null && errors['username'] != null) ? 'control-group error' : 'control-group'}">

                                    <label class="control-label">用户名/学号<span class="required">*</span></label>

                                    <div class="controls">

                                        <input name="username" type="text" class="m-wrap span12" th:field="*{username}">

                                        <span class="help-block" th:if="${errors != null && errors['username'] != null}" th:text="${errors['username']}"></span>

                                    </div>

                                </div>

                                <div th:class="${(errors != null && errors['name'] != null) ? 'control-group error' : 'control-group'}">

                                    <label class="control-label">姓名<span class="required">*</span></label>

                                    <div class="controls">

                                        <input name="name" type="text" class="m-wrap span12" th:field="*{name}">

                                        <span class="help-block" th:if="${errors != null && errors['name'] != null}" th:text="${errors['name']}"></span>

                                    </div>

                                </div>

                                <div class="control-group">

                                    <label class="control-label">学院</label>

                                    <div class="controls">

                                        <input name="college" type="text" class="m-wrap span12" th:field="*{college}">

                                    </div>

                                </div>

                                <div class="control-group">

                                    <label class="control-label">班级</label>

                                    <div class="controls">

                                        <input name="classes" type="text" class="m-wrap span12" th:field="*{classes}">

                                    </div>

                                </div>

                                <div class="control-group">

                                    <label class="control-label">Email</label>

                                    <div class="controls">

                                        <input name="email" type="text" class="m-wrap span12" th:field="*{email}">

                                    </div>

                                </div>

                                <div class="control-group">

                                    <label class="control-label">手机</label>

                                    <div class="controls">

                                        <input name="phone" type="text" class="m-wrap span12" th:field="*{phone}">

                                    </div>

                                </div>

                                <div class="form-actions">

                                    <button type="submit" class="btn blue"><i class="icon-ok"></i> 保存</button>

                                    <button type="button" class="btn" onclick="history.go(-1)">取消</button>

                                </div>

                            </form>

                            <!-- END FORM-->

                        </div>

                    </div>

                    <!-- END EXAMPLE TABLE PORTLET-->

                </div>

            </div>

            <!-- END PAGE CONTENT-->

        </div>

        <!-- END PAGE CONTAINER-->

    </div>

    <!-- END PAGE -->

</div>
<div th:replace="~{/admin/_layout/footer::footer}"></div>
<th:block th:replace="~{/admin/_layout/common-js::common-js(~{::script})}">
    <script type="text/javascript" th:src="@{/static/js/select2.min.js}"></script>

    <script th:src="@{/static/js/app.js}"></script>

    <script>

        jQuery(document).ready(function() {

            App.init();

        });

    </script>
</th:block>
</body>
</html>